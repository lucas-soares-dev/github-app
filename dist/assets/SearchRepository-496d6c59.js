import{e as N,_ as x,r as d,o as s,c as o,F as h,f as m,a as t,b as p,w as v,t as i,g as R,h as k,p as P,i as T,d as F,m as j,n as y,j as b,k as H}from"./index-cbf67802.js";import{f as D,a as V,b as B,P as q,S as z,c as J,H as A}from"./SkeletonBlock-ebabb4b5.js";import"./SearchInput-75409747.js";const E=e=>(e=e||"",e.length>137?e.substr(0,137)+"...":e),I=e=>({name:e.name,owner:e.owner.login,description:E(e.description),topics:e.topics.splice(0,5),forks:e.forks,stars:e.watchers,language:e.language,avatar:`${e.owner.html_url}.png?size=40`,updated:D(e.updated_at)}),C=N("githubRepositorySearchStore",{state:()=>({loading:!0,searchTerm:"",currentPage:1,perPage:10,repositoriesCount:0,repositoriesCountFormatted:"0",repositories:[]}),actions:{async fetchRepositories(e=1){try{this.loading=!0,this.currentPage=e>0?e:1;const{data:r}=await V.get("/search/repositories",{params:{q:this.searchTerm,page:this.currentPage,per_page:this.perPage}});this.repositoriesCount=r.total_count,this.repositoriesCountFormatted=B(this.repositoriesCount),this.repositories=r.items.map(g=>I(g))}catch(r){console.error("Error fetching repositories: ",r)}finally{this.loading=!1}}}}),M="/assets/not-results-a776b92f.png";const U={components:{Pagination:q,Skeleton:z,SkeletonBlock:J},setup(){return{store:C()}},created(){const e=this.$route.params.searchTerm,r=this.$route.query.p;this.store.searchTerm=e,this.store.fetchRepositories(r)},watch:{"$route.params.searchTerm"(e){this.store.searchTerm=e,this.store.fetchRepositories()}}},S=e=>(P("data-v-8634f546"),e=e(),T(),e),G={key:0,class:"repository-list col-12 col-lg-8 p-0 pb-5"},W={key:0},Y={class:"repository-list__card-info overflow-hidden"},K={class:"title d-flex align-items-center"},O={class:"mr-2 m-0"},Q=["src"],X={class:"font-16 m-0"},Z={class:"description mt-1 mb-2 font-14"},ee={class:"m-0"},te={class:"topics__list d-flex flex-wrap"},se={class:"details mt-2 font-13 text-muted"},oe={class:"language"},ae=S(()=>t("span",{class:"separator mx-2"},"·",-1)),ie={class:"starts"},re=S(()=>t("span",{class:"separator mx-2"},"·",-1)),ce={class:"updated"},le=S(()=>t("div",{class:"repository-list__card-btns mt-1"},[t("button",{class:"btn btn-dark--secundary btn-sm"},[t("span",{class:"fa-regular fa-star"}),t("span",{class:"font-13 ml-1"},"Star")])],-1)),ne={key:1,class:"repository-list__not-results col-12 border border-dark mt-3"},de=F('<div class="d-flex flex-column flex-lg-row align-items-center" data-v-8634f546><figure class="col-md-7 col-lg-5" data-v-8634f546><img src="'+M+'" alt="No Results" data-v-8634f546></figure><div class="col-lg-7 text-center text-lg-left mt-5 mt-lg-0" data-v-8634f546><h2 class="h4" data-v-8634f546>Your search did not match any repositories</h2><p class="text-muted mt-4 mt-lg-0" data-v-8634f546>Search for other repositories...</p></div></div>',1),pe=[de];function _e(e,r,g,c,$,f){const _=d("router-link"),n=d("Pagination"),u=d("skeleton-block"),l=d("skeleton");return c.store.loading||c.store.repositories.length>0?(s(),o("div",G,[c.store.loading?(s(),R(l,{key:1},{default:v(()=>[(s(!0),o(h,null,m(c.store.perPage,a=>(s(),R(u,{key:a,h:"100px",class:"rounded mt-3"}))),128))]),_:1})):(s(),o("div",W,[(s(!0),o(h,null,m(c.store.repositories,(a,L)=>(s(),o("article",{key:L,class:"repository-list__card d-flex justify-content-between p-3 mt-3 border border-dark rounded"},[t("div",Y,[t("div",K,[t("figure",O,[t("img",{src:a.avatar,alt:"Repository Avatar",class:"rounded"},null,8,Q)]),t("h3",X,[p(_,{to:`/${a.owner}/${a.name}/issues`,class:"text-primary"},{default:v(()=>[k(i(a.owner)+"/",1),t("strong",null,i(a.name),1)]),_:2},1032,["to"])])]),t("div",Z,[t("p",ee,i(a.description),1)]),t("div",te,[(s(!0),o(h,null,m(a.topics,w=>(s(),o("div",{key:w,class:"topics__list-item font-13"},[p(_,{to:"#",class:"font-small"},{default:v(()=>[k(i(w),1)]),_:2},1024)]))),128))]),t("div",se,[t("span",oe,i(a.language),1),ae,t("span",ie,i(a.stars),1),re,t("span",ce,"Updated "+i(a.updated),1)])]),le]))),128)),p(n,{class:"mt-5",items_count:c.store.repositoriesCount,per_page:c.store.perPage,onToPage:r[0]||(r[0]=a=>c.store.fetchRepositories(a))},null,8,["items_count","per_page"])]))])):(s(),o("div",ne,pe))}const ue=x(U,[["render",_e],["__scopeId","data-v-8634f546"]]);const fe={data:()=>({}),computed:{...j(C,["repositoriesCountFormatted"]),menuFilters(){return[{code:"main",title:"Principal",items:[{title:"Code",icon:"fa-solid fa-code",count:"...",url:"#",active:!1},{title:"Repositories",icon:"fa-solid fa-box-open",count:this.repositoriesCountFormatted,url:"#",active:!0},{title:"Issues",icon:"fa-regular fa-circle-dot",count:"...",url:"#",active:!1},{title:"Pull requests",icon:"fa-solid fa-code-pull-request",count:"...",url:"#",active:!1},{title:"Discussions",icon:"fa-regular fa-message",count:"...",url:"#",active:!1},{title:"Users",icon:"fa-solid fa-user-group",count:"...",url:"#",active:!1},{title:"More",icon:"fa-solid fa-angle-down",url:"#",active:!1}]},{code:"languages",title:"Languages",items:[{title:"JavaScript",icon:"circle",url:"#",iconColor:"rgb(241, 224, 90)",active:!1},{title:"TypeScript",icon:"circle",url:"#",iconColor:"rgb(49, 120, 198)",active:!1},{title:"HTML",icon:"circle",url:"#",iconColor:"rgb(227, 76, 38)",active:!1},{title:"CSS",icon:"circle",url:"#",iconColor:"rgb(86, 61, 124)",active:!1},{title:"C",icon:"circle",url:"#",iconColor:"rgb(243, 75, 125)",active:!1},{title:"C++",icon:"circle",url:"#",iconColor:"rgb(243, 75, 125)",active:!1},{title:"C#",icon:"circle",url:"#",iconColor:"rgb(243, 75, 125)",active:!1},{title:"EJS",icon:"circle",url:"#",iconColor:"rgb(169, 30, 80)",active:!1},{title:"Python",icon:"circle",url:"#",iconColor:"rgb(53, 114, 165)",active:!1},{title:"Shell",icon:"circle",url:"#",iconColor:"rgb(137, 224, 81)",active:!1},{title:"Dockerfile",icon:"circle",url:"#",iconColor:"rgb(56, 77, 84)",active:!1},{title:"Java",icon:"circle",url:"#",iconColor:"rgb(176, 114, 25)",active:!1},{title:"PHP",icon:"circle",url:"#",iconColor:"rgb(49, 120, 198)",active:!1},{title:"Assembly",icon:"circle",url:"#",iconColor:"rgb(137, 224, 81)",active:!1}]}]}}},he=e=>(P("data-v-16640e3b"),e=e(),T(),e),me={class:"sidebar-menu d-none d-xl-block sticky-top border-right border-dark"},ge={class:"pl-3 pr-2 py-3"},ve=he(()=>t("h2",{class:"h6 mb-4"},"Filter by",-1)),be={key:0,class:"font-13 text-muted ml-2"},ye={class:"sidebar-menu__filter-items"},ke={class:"d-flex w-100 justify-content-between pl-3"},xe={key:0,class:"count text-center px-2"},Ce={key:0,class:"mt-2 mb-3 bg-dark"};function Se(e,r,g,c,$,f){const _=d("router-link");return s(),o("aside",me,[t("div",ge,[ve,(s(!0),o(h,null,m(f.menuFilters,(n,u)=>(s(),o("ul",{key:u,class:"sidebar-menu__filters m-0 pr-2"},[t("li",{class:y(`sidebar-menu__filter-${n.code}`)},[n.code!=="main"?(s(),o("h3",be,i(n.title),1)):b("",!0),t("ul",ye,[(s(!0),o(h,null,m(n.items,(l,a)=>(s(),o("li",{key:a,class:y({rounded:!0,active:l.active})},[p(_,{to:l.url,class:"d-flex align-items-center font-14 px-2"},{default:v(()=>[t("span",{class:y(l.icon),style:H(l.iconColor?`background-color: ${l.iconColor}`:"")},null,6),t("div",ke,[t("span",null,i(l.title),1),l.count?(s(),o("span",xe,i(l.count),1)):b("",!0)])]),_:2},1032,["to"])],2))),128))])],2),u<f.menuFilters.length-1?(s(),o("hr",Ce)):b("",!0)]))),128))])])}const $e=x(fe,[["render",Se],["__scopeId","data-v-16640e3b"]]);const we={name:"SearchRepository",components:{Header:A,RepositoryList:ue,SidebarLeft:$e},data:()=>({showHeaderDrawer:!1}),computed:{...j(C,["loading","repositoriesCount","repositoriesCountFormatted"]),showRepositorySearchInfo(){return this.loading||this.repositoriesCount>0}}},Re={class:"search-repository"},Pe={class:"d-flex"},Te={class:"d-none"},Fe={class:"search-repository__content d-flex col p-0"},je={class:"col-12 p-3 p-lg-4"},Le={class:"header-content__info"},Ne={class:"count-results font-15"},He=t("span",{class:"text-muted font-13"},"(400 ms)",-1),De={class:"d-flex flex-column-reverse flex-lg-row p-0"},Ve={key:0,class:"repository-search__info col-lg-4 p-0 pl-lg-4"},Be=F('<div class="mt-3 py-3 pr-3 border border-dark rounded"><div class="pl-3"><div class="title d-flex align-items-center"><figure class="mr-2 m-0"><img src="https://github.com/nodejs.png?size=40" alt="Repository Avatar"></figure><h3 class="font-16 m-0">Node.js</h3></div><div class="description my-2 font-14 text-muted"><p class="m-0"> Node.js is a tool for executing JavaScript in a variety of environments. </p></div></div><ul class="topics__list mt-3 mb-0 pl-2"><li class="topics__list-item font-14 py-1 pl-2 rounded"><a href="https://nodejs.org/en" target="_blank" class="d-flex align-items-center"><span class="fa-solid fa-link mr-1 text-primary"></span><span class="text-primary">nodejs.org</span></a></li><li class="topics__list-item font-14 py-1 pl-2 mt-2 rounded"><a href="https://en.wikipedia.org/wiki/Node.js" target="_blank" class="d-flex align-items-center"><span class="fa-solid fa-link mr-1 text-primary"></span><span class="text-primary">Wikipedia</span></a></li><li class="topics__list-item font-14 py-1 pl-2 mt-2 rounded"><a href="https://github.com/nodejs" target="_blank" class="d-flex text-muted align-items-center"><span class="fa-solid fa-box-open mr-1"></span><span>nodejs</span></a></li><li class="topics__list-item font-14 py-1 pl-2 mt-2 rounded"><a href="https://github.com/topics/node" target="_blank" class="d-flex text-muted align-items-center"><span class="fa-solid fa-hashtag mr-2"></span><span>View topic</span></a></li></ul></div>',1),qe=[Be];function ze(e,r,g,c,$,f){const _=d("Header"),n=d("SidebarLeft"),u=d("RepositoryList");return s(),o("div",Re,[p(_),t("main",Pe,[t("h1",Te,"Search Repositories "+i(e.$route.params.searchTerm),1),p(n),t("section",Fe,[t("div",je,[t("div",Le,[t("h2",Ne,[k(i(e.repositoriesCountFormatted)+" results ",1),He])]),t("div",De,[p(u),f.showRepositorySearchInfo?(s(),o("aside",Ve,qe)):b("",!0)])])])])])}const Ie=x(we,[["render",ze]]);export{Ie as default};
